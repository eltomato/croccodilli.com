<html ng-app="croccodilli">
	<head>
		<title>Croccodilli</title>

		<meta name="description" content="Il viaggio di Tommaso e Sharon: alla conquista dell'Australia!" />

		<link rel="shortcut icon" type="image/png" href="img/croccodillo.png"/>

		<link href='https://fonts.googleapis.com/css?family=Poiret+One' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="css/style.css">

		<script type="text/javascript" src="http://connect.facebook.net/en_US/sdk.js"></script>
		<script type="text/javascript" src="lib/fb.js"></script>
		<script type="text/javascript" src="lib/moment.min.js"></script>
		<script type="text/javascript" src="lib/moment-timezone-with-data.min.js"></script>
		<script type="text/javascript" src="lib/jquery-1.12.0.min.js"></script>
		<script type="text/javascript" src="lib/bootstrap/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="lib/blockspring.js"></script>
		
		<script type="text/javascript" src="lib/angular.min.js"></script>
		<script type="text/javascript" src="lib/angular-animate.min.js"></script>
		<script type="text/javascript" src="lib/angular-video-bg.min.js"></script>
		<script type="text/javascript" src="lib/roundProgress.js"></script>
		<script type="text/javascript" src="js/angular/croccodilli.js"></script>
		<script type="text/javascript" src="js/angular/services/FacebookService.js"></script>
		<script type="text/javascript" src="js/angular/services/EmailService.js"></script>
		<script type="text/javascript" src="js/angular/services/PostService.js"></script>
		<script type="text/javascript" src="js/angular/services/SlidesService.js"></script>
		<script type="text/javascript" src="js/angular/controllers/CountdownController.js"></script>
		<script type="text/javascript" src="js/angular/controllers/LoginController.js"></script>
		<script type="text/javascript" src="js/angular/controllers/PostsController.js"></script>
		<script type="text/javascript" src="js/angular/controllers/SubPostController.js"></script>
		<script type="text/javascript" src="js/angular/controllers/WatchController.js"></script>
		<script type="text/javascript" src="js/angular/controllers/SlidesController.js"></script>

		<script type="text/javascript" src="lib/ui-bootstrap-custom-build/ui-bootstrap-custom-1.2.0.min.js"></script>
		<script type="text/javascript" src="lib/ui-bootstrap-custom-build/ui-bootstrap-custom-tpls-1.2.0.min.js"></script>
	</head>
	<body ng-controller="LoginController">
		<div ng-if="postingInfo.isLogged" class="profile">
			<img ng-src="{{postingInfo.imageUrl || 'img/anonymous.png'}}" class="profile-picture"/>
			{{postingInfo.name}} <a ng-click="doLogout()"
				href="#">
				<i class="fa fa-power-off"></i>
			</a>
		</div>
		<div class="first-row">
			<div class="container" ng-controller="CountdownController">
				<div class="header col-md-12">
					<h2>
						<b>Australia 2016-2017</b>
					</h2>
					<h1>
						Non smetteremo di eplorare. <br>Ed alla fine di tutto il nostro andare, ritorneremo al punto di partenza per conoscerlo per la prima volta.
					</h1>
					<p class="who right">&minus;T. S. Eliot</p>
				</div>
				<div ng-if="isCountdownOverdue()" class="col-md-12 partiti-container color-clear">
					<h1>Siamo partiti! Stay tuned...</h1>
				</div>
				<div ng-if="!isCountdownOverdue()" class="col-md-12 countdown-container">
					<div class="col-md-3 col-xs-3">
						<div class="countdown-text">
							<span>{{days}} <span class="unit">Giorni</span></span>
						</div>
						<div round-progress
							max="200"
							current="days"
							color="#45ccce"
							bgcolor="#eaeaea"
							radius="125"
							stroke="15"
							rounded="true"
							responsive="true"
							duration="800"
							animation="easeOutBounce"
							animation-delay="0"></div>
					</div>
					<div class="col-md-3 col-xs-3">
						<div class="countdown-text">
							<span>{{hours}} <span class="unit">Ore</span></span>
						</div>
						<div round-progress
							max="24"
							current="hours"
							color="#45ccce"
							bgcolor="#eaeaea"
							radius="125"
							stroke="15"
							responsive="true"
							rounded="true"
							duration="800"
							animation="easeOutBounce"
							animation-delay="0"></div>
					</div>
					<div class="col-md-3 col-xs-3">
						<div class="countdown-text">
							<span>{{minutes}} <span class="unit">Minuti</span></span>
						</div>
						<div round-progress
							class="col-md-3"
							max="60"
							current="minutes"
							color="#45ccce"
							bgcolor="#eaeaea"
							radius="125"
							stroke="15"
							responsive="true"
							rounded="true"
							duration="800"
							animation="easeOutBounce"
							animation-delay="0"></div>
					</div>
					<div class="col-md-3 col-xs-3">
						<div class="countdown-text">
							<span>{{seconds}} <span class="unit">Secondi</span></span>
						</div>
						<div round-progress
							class="col-md-3"
							max="60"
							current="seconds"
							color="#45ccce"
							bgcolor="#eaeaea"
							radius="125"
							stroke="15"
							responsive="true"
							rounded="true"
							duration="800"
							animation="easeOutBounce"
							animation-delay="0"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="first-row"
			ng-if="false"
			class="font-size-x-large"
			ng-style="getCurrentSlideBackground()"
			ng-controller="SlidesController">
			<div uib-carousel
				active="active"
				no-wrap="noWrap"
				class="height-100">
				<div uib-slide
					class="height-100"
					ng-repeat="slide in slides track by slide.id"
					index="slides.indexOf(slide)">
					<div ng-if="slide.videoId && slides.indexOf(slide) == active"
						video-bg
						video-id="slide.videoId"
						class="height-100 width-100"></div>
					<div class="container slides-background">
						<h1>{{slide.title}}</h1>
						<span ng-bind-html="slide.content">
						</span>
					</div>
				</div>
			</div>
		</div>
		<div>
			<div class="container">
				<div class="col-md-12 whatsapp-header">
					<div class="col-md-6 whatsapp-col">
						<h2 class="col-md-12">
							<a class="color-ceruleo"
								href="https://www.facebook.com/tommaso.previero" target="_blank">Tommaso</a>
						</h2>
						<div class="col-md-12 whatsapp-number">
							Italia <i class="fa fa-whatsapp color-green"></i> +39 347 1114206
						</div>
						<div class="col-md-12 whatsapp-number">
							Australia <i class="fa fa-whatsapp color-green"></i> Coming soon...
						</div>
					</div>
					<div class="col-md-6">
						<h2 class="col-md-12">
							<a class="color-ceruleo"
								href="https://www.facebook.com/sharon.storti" target="_blank">Sharon</a>
						</h2>
						<div class="col-md-12 whatsapp-number">
							Italia <i class="fa fa-whatsapp color-green"></i> +39 349 8439920
						</div>
						<div class="col-md-12 whatsapp-number">
							Australia <i class="fa fa-whatsapp color-green"></i> Coming soon...
						</div>
					</div>
				</div>
				<div class="col-md-12">
					<hr class="full-width">
				</div>
				<div class="col-md-12 do-post-header">
					<h1>Manteniamo vivi i rapporti <i class="fa fa-heartbeat color-ceruleo"></i></h1>
				</div>
				<h2 class="col-md-12 not-logged-message"
					ng-if="!postingInfo.isLogged">
					<span class="col-xs-12">
						Per scriverci
						<span class="btn btn-default btn-lg"
							ng-click="doLogin()">
							loggati con <i class="fa fa-facebook-official fb-icon"></i>
						</span>
					</span>
					<span class="col-xs-12">
						<i class="color-ceruleo"><br>oppure</i>
					</span>
					<span class="col-xs-12">
						<br>inserisci
						<input type="email"
								ng-model="postingInfo.email"
								placeholder="mia@mail.it" />
						e clicca su
						<span class="btn btn-default btn-lg"
							ng-click="doLogin(postingInfo.email)">Accedi</span>
					</span>
				</h2>
				<div class="col-md-12"
					ng-if="postingInfo.isLogged">
					<textarea ng-model="postingInfo.commento"
						ng-disabled="postingInfo.posting"
						placeholder="Ci stavi pensando? Se ci scrivi ti risponderemo di sicuro...forse."></textarea>
				</div>
				<div class="col-md-12 row-button"
					ng-if="postingInfo.isLogged">
					<div class="col-md-3 col-xs-3 btn btn-default"
						ng-class="{'col-md-offset-5 col-xs-offset-5': !postingInfo.isLogged, 'col-md-offset-9 col-xs-offset-9': postingInfo.isLogged}"
						ng-disabled="postingInfo.posting"
						ng-click="savePost()">
						<span>Invia <img ng-src="{{postingInfo.imageUrl || 'img/anonymous.png'}}" class="profile-picture"/></span>
						<i ng-show="postingInfo.posting" class="fa fa-spinner fa-spin"></i>
					</div>
				</div>
			</div>
		</div>
		<div>
			<div class="container"
				ng-controller="PostsController">
				<div ng-if="loadingPosts"
					class="col-md-12 col-xs-12 post center"
					ng-class="{'bottom-ceruleo-dashed': groupedPosts.length>0}">
					<i class="fa fa-spinner fa-spin"></i>
				</div>
				<div class="col-md-12 col-xs-12 post"
					ng-controller="SubPostController"
					ng-class="{'bottom-ceruleo-dashed': !$last}"
					ng-repeat="groupedPost in groupedPosts">
					<div class="col-md-1 col-xs-1 row">
						<img ng-src="{{groupedPost.post.posterImageUrl || 'img/anonymous.png'}}"
							style="float: right;"
							class="profile-picture">
					</div>
					<div class="col-md-10 col-xs-10">
						<small>
							<b>{{groupedPost.post.poster||groupedPost.post.email}}</b>
							<span ng-controller="WatchController"
								ng-click="toggleTime()"
								class="badge pointer">
								<i class="fa fa-clock-o"></i> IT
								<span ng-show="expanded">{{groupedPost.post.date_it}}</span>
							</span>
							<span ng-controller="WatchController"
								ng-click="toggleTime()"
								class="badge pointer">
								<i class="fa fa-clock-o"></i> AU 
								<span ng-show="expanded">{{groupedPost.post.date_au}}</span>
							</span>
						</small><br>
						{{groupedPost.post.content}}<br>
						<a class="color-ceruleo"
							href=""
							ng-if="postingInfo.isLogged"
							ng-click="enableReply()">Rispondi</a>
					</div>
					<div ng-repeat="post in groupedPost.referred"
						class="col-md-12 col-xs-12 left-ceruleo sub-post">
						<div class="col-md-1 col-xs-1 row">
							<img ng-src="{{post.posterImageUrl || 'img/anonymous.png'}}"
								class="profile-picture pull-right">
						</div>
						<div class="col-md-10 col-xs-10">
							<small>
								<b>{{post.poster||post.email}}</b>
								<span ng-controller="WatchController"
									ng-click="toggleTime()"
									class="badge pointer">
									<i class="fa fa-clock-o"></i> IT
									<span ng-show="expanded">{{post.date_it}}</span>
								</span>
								<span ng-controller="WatchController"
									ng-click="toggleTime()"
									class="badge pointer">
									<i class="fa fa-clock-o"></i> AU 
									<span ng-show="expanded">{{post.date_au}}</span>
								</span>
							</small><br>
							{{post.content}}
						</div>
					</div>
					<div ng-if="showReply">
						<div class="col-md-12">
							<textarea ng-model="subpostingInfo.subpost.commento"
								ng-disabled="subpostingInfo.subposting"
								autofocus
								placeholder="Secondo me..."></textarea>
						</div>
						<div class="col-md-12 row-button">
							<div class="col-md-3 col-xs-3 btn btn-default"
								ng-class="{'col-md-offset-5 col-xs-offset-5': !postingInfo.isLogged, 'col-md-offset-9 col-xs-offset-9': postingInfo.isLogged}"
								ng-disabled="subpostingInfo.subposting"
								ng-click="saveSubPost(groupedPost)">
								<span>Invia <img ng-src="{{postingInfo.imageUrl || 'img/anonymous.png'}}" class="profile-picture"/></span>
								<i ng-show="subpostingInfo.subposting" class="fa fa-spinner fa-spin"></i>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="footer"></div>
	</body>
</html>